<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAPS Shri Swaminarayan Mandir - Digital Kiosk</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Navigation -->
        <header class="header">
        <nav class="nav-container">
            <div class="logo">
                        <h1>BAPS Shri Swaminarayan Mandir</h1>
                <p>Edison, New Jersey</p>
            </div>
            <div class="nav-links">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#activities" class="nav-link">Activities</a>
                <a href="#events" class="nav-link">Events</a>
                <a href="#gallery" class="nav-link">Gallery</a>
                <a href="#about" class="nav-link">About</a>
                <button class="nav-link ai-btn" onclick="openAIAssistant()">Ask Me</button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Welcome to BAPS Shri Swaminarayan Mandir</h1>
            <p class="hero-subtitle">Experience divine peace and spiritual tranquility in our sacred temple</p>
            <div class="hero-buttons">
                <button class="btn-primary">View Darshan Timings</button>
                <button class="btn-secondary">Learn About Us</button>
            </div>
        </div>
        <div class="hero-image">
            <img src="images/temple-images/DJI_0347_Edited (2).png" alt="BAPS Shri Swaminarayan Mandir" class="hero-temple-image">
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Activities Section -->
        <section id="activities" class="section activities-section">
            <div class="section-header">
                <h2>Our Activities</h2>
                <p>Engage in spiritual and community activities for all ages</p>
            </div>
            
            <div class="activities-grid">
                <div class="activity-card" onclick="openActivityPopup('balbalika')">
                    <h3>Bal/Balika</h3>
                    <p>Children's Activities</p>
                </div>
                
                <div class="activity-card" onclick="openActivityPopup('kishorekishori')">
                    <h3>Kishore/Kishori</h3>
                    <p>Teen Programs</p>
                </div>
                
                <div class="activity-card" onclick="openActivityPopup('yuvakyuvati')">
                    <h3>Yuvak/Yuvati</h3>
                    <p>Young Adult Activities</p>
                </div>
                
                <div class="activity-card" onclick="openActivityPopup('betterliving')">
                    <h3>Better Living</h3>
                    <p>Personal Development</p>
                </div>
                
                <div class="activity-card" onclick="openActivityPopup('international')">
                    <h3>International Students</h3>
                    <p>Student Community</p>
                </div>
                
                <div class="activity-card" onclick="openActivityPopup('family')">
                    <h3>Family Programs</h3>
                    <p>Activities for Families</p>
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section id="events" class="section">
            <div class="section-header">
                <h2>Upcoming Events</h2>
                <p>Join us for spiritual celebrations and community events</p>
            </div>
            
            <div class="events-grid">
                <div class="event-card featured-event">
                    <div class="event-date">
                        <span class="day">24</span>
                        <span class="month">Jul</span>
                    </div>
                    <div class="event-content">
                        <h3>Kishore-Kishori Adhiveshan & Summer Shibir 2025</h3>
                        <p class="event-location">Edison, New Jersey</p>
                        <p class="event-description">Annual youth spiritual retreat and cultural celebration</p>
                    </div>
                    <div class="event-status">Upcoming</div>
                </div>
                
                <div class="event-card">
                    <div class="event-date">
                        <span class="day">05</span>
                        <span class="month">Apr</span>
                    </div>
                    <div class="event-content">
                        <h3>Shri Swaminarayan Jayanti - Women's Celebration</h3>
                        <p class="event-location">Edison, New Jersey</p>
                        <p class="event-description">Special celebration honoring Lord Swaminarayan</p>
                    </div>
                    <div class="event-status">Planned</div>
                </div>
                
                <div class="event-card">
                    <div class="event-date">
                        <span class="day">15</span>
                        <span class="month">Dec</span>
                    </div>
                    <div class="event-content">
                        <h3>Bhajan Sandhya</h3>
                        <p class="event-location">Main Hall</p>
                        <p class="event-description">Evening devotional singing session</p>
                    </div>
                    <div class="event-status">Regular</div>
                </div>
            </div>
        </section>

        <!-- Gallery Section -->
        <section id="gallery" class="section">
            <div class="section-header">
                <h2>Mandir Gallery</h2>
                <p>Explore the beauty and architecture of our sacred mandir</p>
                        </div>
            
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="images/gallery/mandir-exterior.png" alt="BAPS Mandir Exterior" class="gallery-image">
                    <div class="gallery-overlay">
                        <h3>Mandir Exterior</h3>
                        <p>Beautiful temple architecture</p>
                    </div>
                            </div>

                <div class="gallery-item">
                    <img src="images/gallery/03_edison_diwali2024.jpg" alt="Diwali 2024 Celebration" class="gallery-image">
                    <div class="gallery-overlay">
                        <h3>Diwali 2024</h3>
                        <p>Festival of Lights celebration</p>
                        </div>
                    </div>

                <div class="gallery-item">
                    <img src="images/gallery/05_edison_mahantswamiJJ_2025.jpg" alt="Mahant Swami JJ 2025" class="gallery-image">
                    <div class="gallery-overlay">
                        <h3>Mahant Swami JJ 2025</h3>
                        <p>Spiritual guidance and blessings</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <div class="gallery-placeholder">
                        <span>Festival Celebration</span>
                                </div>
                    <div class="gallery-overlay">
                        <h3>Festival Joy</h3>
                        <p>Community celebrations</p>
                                </div>
                            </div>
                
                <div class="gallery-item">
                    <div class="gallery-placeholder">
                        <span>Devotees Gathering</span>
                                </div>
                    <div class="gallery-overlay">
                        <h3>Community Spirit</h3>
                        <p>Devotees in prayer</p>
                                </div>
                            </div>
                
                <div class="gallery-item">
                    <div class="gallery-placeholder">
                        <span>Sacred Rituals</span>
                    </div>
                    <div class="gallery-overlay">
                        <h3>Divine Rituals</h3>
                        <p>Traditional ceremonies</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section">
            <div class="section-header">
                <h2>About Our Mandir</h2>
                <p>Discover the spiritual heritage and community of BAPS</p>
            </div>
            
            <div class="about-content">
                <div class="about-grid">
                    <div class="about-card">
                        <div class="about-icon"></div>
                        <h3>Community Spirit</h3>
                        <p>Join our vibrant community of devotees from diverse backgrounds united in spiritual practice.</p>
            </div>

                    <div class="about-card">
                        <div class="about-icon"></div>
                        <h3>Spiritual Learning</h3>
                        <p>Regular classes, discourses, and educational programs for all ages and backgrounds.</p>
                    </div>
                    
                    <div class="about-card">
                        <div class="about-icon"></div>
                        <h3>Service to Society</h3>
                        <p>Engage in community service, charity work, and humanitarian activities.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gurus Section -->
        <section id="gurus" class="section gurus-section">
            <div class="section-header">
                <h2>Our Gurus</h2>
                <p>Spiritual Masters who guide us on the path of devotion</p>
            </div>
            
            <div class="gurus-grid">
                <div class="guru-card" onclick="openGuruPopup('pramukh')">
                    <div class="guru-image-wrapper">
                        <img src="images/gurus/vv30-029.jpg" alt="Pramukh Swami Maharaj" class="guru-image">
                    </div>
                    <h3>Pramukh Swami Maharaj</h3>
                    <p class="guru-years">1921 - 2016</p>
                </div>
                
                <div class="guru-card" onclick="openGuruPopup('mahant')">
                    <div class="guru-image-wrapper">
                        <img src="images/gurus/Mahant_Swami_Maharaj.jpg" alt="Mahant Swami Maharaj" class="guru-image">
                    </div>
                    <h3>Mahant Swami Maharaj</h3>
                    <p class="guru-years">Current Spiritual Leader</p>
                </div>
            </div>
        </section>

        <!-- Contact Information Section -->
        <section id="contact" class="section contact-section">
            <div class="section-header">
                <h2>Contact Information</h2>
                <p>Get in touch with us</p>
            </div>
            
            <div class="contact-info">
                <div class="contact-grid">
                    <div class="contact-item">
                        <span class="contact-icon"></span>
                        <div>
                            <strong>Address</strong>
                            <p>BAPS Shri Swaminarayan Mandir<br>Edison, New Jersey</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <span class="contact-icon"></span>
                        <div>
                            <strong>Phone</strong>
                            <p>(732) 572-1234</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <span class="contact-icon"></span>
                        <div>
                            <strong>Email</strong>
                            <p>info@bapsedison.org</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

            <!-- Footer -->
            <footer class="footer">
                <div class="footer-content">
            <div class="footer-section">
                <h3>BAPS Shri Swaminarayan Mandir</h3>
                    <p>Experience divine peace and spiritual enlightenment</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#timings">Darshan Timings</a></li>
                    <li><a href="#events">Events</a></li>
                    <li><a href="#about">About Us</a></li>
                </ul>
                    </div>
            <div class="footer-section">
                <h4>Follow Us</h4>
                <div class="social-links">
                    <a href="#" class="social-link">Facebook</a>
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">Twitter</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 BAPS Shri Swaminarayan Mandir, Edison. All rights reserved.</p>
            <button class="admin-trigger-btn" onclick="openAdminDashboard()">Admin</button>
    </div>
    </footer>

    <!-- Activity Popups -->
    <div id="activity-popup-balbalika" class="activity-popup">
        <div class="activity-popup-content">
            <button class="close-activity-btn" onclick="closeActivityPopup('balbalika')">&times;</button>
            <div class="activity-popup-header">
                <h2>Bal/Balika</h2>
            </div>
            <div class="activity-popup-body">
                <p><strong>Ages: 5-11 years</strong></p>
                <p>Our Bal/Balika sabha provides a nurturing environment for children to learn about Hindu culture, values, and traditions through engaging activities.</p>
                
                <p><strong>Activities Include:</strong></p>
                <ul>
                    <li>Weekly sabha sessions with stories and games</li>
                    <li>Learning shlokas and bhajans</li>
                    <li>Festival celebrations and cultural programs</li>
                    <li>Character building through moral stories</li>
                    <li>Arts & crafts projects</li>
                </ul>
                
                <p><strong>When:</strong> Sundays, 10:00 AM - 12:00 PM</p>
            </div>
        </div>
    </div>

    <div id="activity-popup-kishorekishori" class="activity-popup">
        <div class="activity-popup-content">
            <button class="close-activity-btn" onclick="closeActivityPopup('kishorekishori')">&times;</button>
            <div class="activity-popup-header">
                <h2>Kishore/Kishori</h2>
            </div>
            <div class="activity-popup-body">
                <p><strong>Ages: 12-18 years</strong></p>
                <p>Our Kishore/Kishori sabha helps teenagers develop strong values, leadership skills, and spiritual awareness during their formative years.</p>
                
                <p><strong>Activities Include:</strong></p>
                <ul>
                    <li>Weekly sabha with discussions on contemporary topics</li>
                    <li>Sports and recreational activities</li>
                    <li>Community service projects</li>
                    <li>Leadership development programs</li>
                    <li>Annual summer shibirs and conventions</li>
                </ul>
                
                <p><strong>When:</strong> Sundays, 10:00 AM - 12:00 PM</p>
            </div>
        </div>
    </div>

    <div id="activity-popup-yuvakyuvati" class="activity-popup">
        <div class="activity-popup-content">
            <button class="close-activity-btn" onclick="closeActivityPopup('yuvakyuvati')">&times;</button>
            <div class="activity-popup-header">
                <h2>Yuvak/Yuvati</h2>
            </div>
            <div class="activity-popup-body">
                <p><strong>Ages: 18+ years</strong></p>
                <p>Our Yuvak/Yuvati sabha provides young adults with spiritual guidance and opportunities for personal growth in a supportive community.</p>
                
                <p><strong>Activities Include:</strong></p>
                <ul>
                    <li>Weekly sabha with spiritual discourses</li>
                    <li>Career guidance and mentorship</li>
                    <li>Social service initiatives</li>
                    <li>Regional and national conventions</li>
                    <li>Study groups on Hindu scriptures</li>
                </ul>
                
                <p><strong>When:</strong> Sundays, 10:00 AM - 12:00 PM</p>
            </div>
        </div>
    </div>

    <div id="activity-popup-betterliving" class="activity-popup">
        <div class="activity-popup-content">
            <button class="close-activity-btn" onclick="closeActivityPopup('betterliving')">&times;</button>
            <div class="activity-popup-header">
                <h2>Better Living</h2>
            </div>
            <div class="activity-popup-body">
                <p><strong>Personal Development Program</strong></p>
                <p>Better Living offers practical workshops and seminars on applying Hindu values to improve various aspects of daily life.</p>
                
                <p><strong>Topics Include:</strong></p>
                <ul>
                    <li>Stress management and work-life balance</li>
                    <li>Building healthy relationships</li>
                    <li>Parenting with Hindu values</li>
                    <li>Financial planning and ethical living</li>
                    <li>Health and wellness from a spiritual perspective</li>
                </ul>
                
                <p><strong>When:</strong> Monthly workshops - Check calendar for dates</p>
            </div>
        </div>
    </div>

    <div id="activity-popup-international" class="activity-popup">
        <div class="activity-popup-content">
            <button class="close-activity-btn" onclick="closeActivityPopup('international')">&times;</button>
            <div class="activity-popup-header">
                <h2>International Students</h2>
            </div>
            <div class="activity-popup-body">
                <p><strong>Community for Students Away from Home</strong></p>
                <p>Our International Students program provides a home away from home for students pursuing their education in the United States.</p>
                
                <p><strong>We Offer:</strong></p>
                <ul>
                    <li>Weekly gatherings and spiritual discussions</li>
                    <li>Cultural celebrations during Indian festivals</li>
                    <li>Study groups and academic support</li>
                    <li>Networking opportunities with professionals</li>
                    <li>Free prasad and meals on weekends</li>
                </ul>
                
                <p><strong>When:</strong> Sundays and select weekdays - Contact us for schedule</p>
            </div>
        </div>
    </div>

    <div id="activity-popup-family" class="activity-popup">
        <div class="activity-popup-content">
            <button class="close-activity-btn" onclick="closeActivityPopup('family')">&times;</button>
            <div class="activity-popup-header">
                <h2>Family Programs</h2>
            </div>
            <div class="activity-popup-body">
                <p><strong>Activities for the Whole Family</strong></p>
                <p>Our Family Programs bring families together to strengthen bonds through shared spiritual experiences and cultural activities.</p>
                
                <p><strong>Activities Include:</strong></p>
                <ul>
                    <li>Family sabhas with interactive sessions</li>
                    <li>Festival celebrations for all ages</li>
                    <li>Picnics and recreational outings</li>
                    <li>Family volunteer service opportunities</li>
                    <li>Parenting workshops and family counseling</li>
                </ul>
                
                <p><strong>When:</strong> Various programs throughout the year</p>
            </div>
        </div>
    </div>

    <!-- Guru Popups -->
    <div id="guru-popup-pramukh" class="guru-popup">
        <div class="guru-popup-content">
            <button class="close-guru-btn" onclick="closeGuruPopup('pramukh')">&times;</button>
            <div class="guru-popup-header">
                <img src="images/gurus/vv30-029.jpg" alt="Pramukh Swami Maharaj" class="guru-popup-image">
                <div class="guru-popup-title">
                    <h2>Pramukh Swami Maharaj</h2>
                    <p class="guru-popup-years">1921 - 2016</p>
                </div>
            </div>
            <div class="guru-popup-body">
                <p><strong>The Epitome of Spirituality</strong></p>
                <p>Pramukh Swami Maharaj was the fifth spiritual successor of Bhagwan Swaminarayan and served as the guru and Pramukh of BAPS from 1950 to 2016. His life was a living example of faith, devotion, and selfless service.</p>
                
                <p><strong>His Legacy</strong></p>
                <ul>
                    <li>Inspired and consecrated over 1,100 mandirs worldwide</li>
                    <li>Initiated over 1,000 sadhus into the spiritual path</li>
                    <li>Promoted peace, harmony, and humanitarian service globally</li>
                    <li>Guided millions on the path of righteousness and devotion</li>
                    <li>His mantra: "In the joy of others, lies our own"</li>
                </ul>
                
                <p><strong>His Message</strong></p>
                <p>"In the joy of others, lies our own. In the progress of others rests our own. In the good of others abides our own."</p>
            </div>
        </div>
    </div>

    <div id="guru-popup-mahant" class="guru-popup">
        <div class="guru-popup-content">
            <button class="close-guru-btn" onclick="closeGuruPopup('mahant')">&times;</button>
            <div class="guru-popup-header">
                <img src="images/gurus/Mahant_Swami_Maharaj.jpg" alt="Mahant Swami Maharaj" class="guru-popup-image">
                <div class="guru-popup-title">
                    <h2>Mahant Swami Maharaj</h2>
                    <p class="guru-popup-years">Current Spiritual Leader</p>
                </div>
            </div>
            <div class="guru-popup-body">
                <p><strong>The Sixth Spiritual Successor</strong></p>
                <p>Mahant Swami Maharaj is the sixth spiritual successor of Bhagwan Swaminarayan and the current guru and Pramukh of BAPS. He was ordained as the spiritual leader in 2016, following the divine wish of Pramukh Swami Maharaj.</p>
                
                <p><strong>His Life</strong></p>
                <ul>
                    <li>Born as Keshavjivandas Patel on September 13, 1933</li>
                    <li>Initiated as a sadhu in 1955 by Yogiji Maharaj</li>
                    <li>Served devotedly under Yogiji Maharaj and Pramukh Swami Maharaj</li>
                    <li>Known for his humility, devotion, and spiritual wisdom</li>
                    <li>Continues the mission of peace and spirituality worldwide</li>
                </ul>
                
                <p><strong>His Guidance</strong></p>
                <p>"Stay connected to God and the guru, and you will never be alone. Their grace and blessings will always be with you."</p>
            </div>
        </div>
    </div>

    <!-- Screensaver Overlay -->
    <div id="screensaver-overlay" class="screensaver-overlay">
        <div class="screensaver-content">
            <h1 class="screensaver-title">BAPS Shri Swaminarayan Mandir</h1>
            <p class="screensaver-subtitle">Edison, New Jersey</p>
            <div class="screensaver-prompt">Click anywhere to start</div>
        </div>
    </div>

    <!-- AI Assistant Popup -->
    <div id="ai-assistant" class="ai-assistant">
        <div class="ai-assistant-content">
            <div class="ai-header">
                <h3>Mandir Assistant</h3>
                <button class="close-ai-btn" onclick="closeAIAssistant()">&times;</button>
            </div>
            <div class="ai-chat-container" id="ai-chat-container">
                <div class="ai-message bot-message">
                    <p>Jai Swaminarayan!</p>
                    <p>How can I help you today?</p>
                </div>
                <div class="quick-questions">
                    <button class="quick-q-btn" onclick="askQuestion('timings')">Darshan Timings</button>
                    <button class="quick-q-btn" onclick="askQuestion('aarti')">Aarti Times</button>
                    <button class="quick-q-btn" onclick="askQuestion('events')">Upcoming Events</button>
                    <button class="quick-q-btn" onclick="askQuestion('location')">Location</button>
                </div>
            </div>
            <div class="ai-input-area">
                <input type="text" id="ai-input" placeholder="Ask a question..." class="ai-input">
                <button class="ai-send-btn" onclick="sendAIMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard Popup -->
    <div id="admin-dashboard" class="admin-dashboard">
        <div class="admin-dashboard-content">
            <!-- Login Screen -->
            <div id="admin-login-screen" class="admin-screen">
                <div class="admin-header">
                    <h3>Admin Dashboard</h3>
                    <button class="close-admin-btn" onclick="closeAdminDashboard()">&times;</button>
            </div>
                <div class="admin-body">
                    <p class="admin-instruction">Enter 4-digit passcode</p>
                    <div class="passcode-display" id="passcode-display">
                        <span class="passcode-dot"></span>
                        <span class="passcode-dot"></span>
                        <span class="passcode-dot"></span>
                        <span class="passcode-dot"></span>
                    </div>
                    <p class="admin-error" id="admin-error"></p>
                    
                    <!-- Number Pad -->
                    <div class="number-pad">
                        <button class="num-btn" onclick="addDigit('1')">1</button>
                        <button class="num-btn" onclick="addDigit('2')">2</button>
                        <button class="num-btn" onclick="addDigit('3')">3</button>
                        <button class="num-btn" onclick="addDigit('4')">4</button>
                        <button class="num-btn" onclick="addDigit('5')">5</button>
                        <button class="num-btn" onclick="addDigit('6')">6</button>
                        <button class="num-btn" onclick="addDigit('7')">7</button>
                        <button class="num-btn" onclick="addDigit('8')">8</button>
                        <button class="num-btn" onclick="addDigit('9')">9</button>
                        <button class="num-btn clear-btn" onclick="clearPasscode()">‚úï</button>
                        <button class="num-btn" onclick="addDigit('0')">0</button>
                        <button class="num-btn enter-btn" onclick="checkPasscode()">‚úì</button>
                        </div>
                    </div>
                </div>
                
            <!-- Dashboard Screen -->
            <div id="admin-dashboard-screen" class="admin-screen" style="display: none;">
                <div class="admin-header">
                    <h3>Kiosk Controls</h3>
                    <button class="close-admin-btn" onclick="closeAdminDashboard()">&times;</button>
                        </div>
                <div class="admin-body">
                    <div class="admin-controls-grid">
                        <button class="control-btn refresh-control" onclick="refreshKiosk()">
                            <span class="control-icon">üîÑ</span>
                            <span class="control-text">Refresh Kiosk</span>
                        </button>
                        <button class="control-btn clear-control" onclick="clearCache()">
                            <span class="control-icon">üóëÔ∏è</span>
                            <span class="control-text">Clear Cache</span>
                        </button>
                        <button class="control-btn fullscreen-control" onclick="toggleFullscreen()">
                            <span class="control-icon">‚õ∂</span>
                            <span class="control-text">Fullscreen</span>
                        </button>
                        <button class="control-btn logout-control" onclick="adminDashboardLogout()">
                            <span class="control-icon">üö™</span>
                            <span class="control-text">Logout</span>
                        </button>
                        </div>
                    <div class="admin-info-panel">
                        <p><strong>Last Action:</strong> <span id="last-action">None</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // AI Assistant Functions
        const aiResponses = {
            timings: "Our Murti Darshan is open daily from 7:00 AM - 11:00 AM and 4:00 PM - 8:00 PM. The Mandir Campus is open from 7:00 AM - 8:00 PM daily.",
            aarti: "We have two daily Aarti ceremonies: Morning Aarti at 7:00 AM and Evening Aarti at 6:30 PM. All are welcome to join!",
            events: "We have several upcoming events including the Kishore-Kishori Adhiveshan & Summer Shibir 2025 on July 24th, and Shri Swaminarayan Jayanti celebration on April 5th. Check our Events section for more details!",
            location: "BAPS Shri Swaminarayan Mandir is located in Edison, New Jersey. You can reach us at (732) 572-1234 or email info@bapsedison.org",
            abhishek: "Nilkanth Varni Abhishek is available on weekdays from 7:00 AM - 11:00 AM and 4:00 PM - 6:00 PM. On weekends, it's available from 7:00 PM - 8:00 PM.",
            default: "I can help you with information about Darshan Timings, Aarti Times, Events, and Location. Please select a topic or ask me a question!"
        };

        function openAIAssistant() {
            document.getElementById('ai-assistant').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeAIAssistant() {
            document.getElementById('ai-assistant').style.display = 'none';
            document.body.style.overflow = 'auto';
            resetAIChat();
        }

        function resetAIChat() {
            const container = document.getElementById('ai-chat-container');
            container.innerHTML = `
                <div class="ai-message bot-message">
                    <p>Jai Swaminarayan!</p>
                    <p>How can I help you today?</p>
                </div>
                <div class="quick-questions">
                    <button class="quick-q-btn" onclick="askQuestion('timings')">Darshan Timings</button>
                    <button class="quick-q-btn" onclick="askQuestion('aarti')">Aarti Times</button>
                    <button class="quick-q-btn" onclick="askQuestion('events')">Upcoming Events</button>
                    <button class="quick-q-btn" onclick="askQuestion('location')">Location</button>
                </div>
            `;
            document.getElementById('ai-input').value = '';
        }

        function addQuickQuestions() {
            const container = document.getElementById('ai-chat-container');
            const existingQuestions = container.querySelector('.quick-questions');
            if (existingQuestions) existingQuestions.remove();
            
            const quickQuestions = document.createElement('div');
            quickQuestions.className = 'quick-questions';
            quickQuestions.innerHTML = `
                <button class="quick-q-btn" onclick="askQuestion('timings')">üïê Darshan Timings</button>
                <button class="quick-q-btn" onclick="askQuestion('aarti')">üïØÔ∏è Aarti Times</button>
                <button class="quick-q-btn" onclick="askQuestion('events')">üìÖ Upcoming Events</button>
                <button class="quick-q-btn" onclick="askQuestion('location')">üìç Location</button>
            `;
            container.appendChild(quickQuestions);
            container.scrollTop = container.scrollHeight;
        }

        function askQuestion(topic) {
            const container = document.getElementById('ai-chat-container');
            const quickQuestions = container.querySelector('.quick-questions');
            if (quickQuestions) quickQuestions.remove();
            
            // Add user message
            const userMsg = document.createElement('div');
            userMsg.className = 'ai-message user-message';
            userMsg.innerHTML = `<p>${getQuestionText(topic)}</p>`;
            container.appendChild(userMsg);
            
            // Add bot response after delay
            setTimeout(() => {
                const botMsg = document.createElement('div');
                botMsg.className = 'ai-message bot-message';
                botMsg.innerHTML = `<p>${aiResponses[topic] || aiResponses.default}</p>`;
                container.appendChild(botMsg);
                container.scrollTop = container.scrollHeight;
                
                // Add quick questions back after response
                setTimeout(() => {
                    addQuickQuestions();
                }, 300);
            }, 500);
        }

        function getQuestionText(topic) {
            const questions = {
                timings: "What are the darshan timings?",
                aarti: "When is Aarti?",
                events: "What events are coming up?",
                location: "Where is the temple located?",
                abhishek: "Tell me about Nilkanth Varni Abhishek"
            };
            return questions[topic] || topic;
        }

        function sendAIMessage() {
            const input = document.getElementById('ai-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            const container = document.getElementById('ai-chat-container');
            const quickQuestions = container.querySelector('.quick-questions');
            if (quickQuestions) quickQuestions.remove();
            
            // Add user message
            const userMsg = document.createElement('div');
            userMsg.className = 'ai-message user-message';
            userMsg.innerHTML = `<p>${message}</p>`;
            container.appendChild(userMsg);
            
            input.value = '';
            
            // Determine response based on keywords
            let response = aiResponses.default;
            const lowerMsg = message.toLowerCase();
            
            if (lowerMsg.includes('timing') || lowerMsg.includes('darshan') || lowerMsg.includes('time') || lowerMsg.includes('open') || lowerMsg.includes('hour')) {
                response = aiResponses.timings;
            } else if (lowerMsg.includes('aarti') || lowerMsg.includes('ceremony')) {
                response = aiResponses.aarti;
            } else if (lowerMsg.includes('event') || lowerMsg.includes('festival') || lowerMsg.includes('celebration')) {
                response = aiResponses.events;
            } else if (lowerMsg.includes('location') || lowerMsg.includes('address') || lowerMsg.includes('where') || lowerMsg.includes('contact') || lowerMsg.includes('phone')) {
                response = aiResponses.location;
            } else if (lowerMsg.includes('abhishek') || lowerMsg.includes('nilkanth')) {
                response = aiResponses.abhishek;
            }
            
            // Add bot response after delay
            setTimeout(() => {
                const botMsg = document.createElement('div');
                botMsg.className = 'ai-message bot-message';
                botMsg.innerHTML = `<p>${response}</p>`;
                container.appendChild(botMsg);
                container.scrollTop = container.scrollHeight;
                
                // Add quick questions back after response
                setTimeout(() => {
                    addQuickQuestions();
                }, 300);
            }, 500);
        }

        // Activity Popup Functions
        function openActivityPopup(activityId) {
            const popup = document.getElementById('activity-popup-' + activityId);
            if (popup) {
                popup.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                // Reset idle timer when opening popup
                if (typeof resetIdleTimer === 'function') {
                    resetIdleTimer();
                }
            }
        }

        function closeActivityPopup(activityId) {
            const popup = document.getElementById('activity-popup-' + activityId);
            if (popup) {
                popup.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // Guru Popup Functions
        function openGuruPopup(guruId) {
            document.getElementById('guru-popup-' + guruId).style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeGuruPopup(guruId) {
            document.getElementById('guru-popup-' + guruId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Admin Dashboard Functions
        const ADMIN_PASSCODE = '2001';
        let currentPasscode = '';

        function openAdminDashboard() {
            document.getElementById('admin-dashboard').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeAdminDashboard() {
            document.getElementById('admin-dashboard').style.display = 'none';
            document.body.style.overflow = 'auto';
            resetAdminDashboard();
        }

        function resetAdminDashboard() {
            currentPasscode = '';
            updatePasscodeDisplay();
            document.getElementById('admin-error').textContent = '';
            document.getElementById('admin-login-screen').style.display = 'block';
            document.getElementById('admin-dashboard-screen').style.display = 'none';
        }

        function addDigit(digit) {
            if (currentPasscode.length < 4) {
                currentPasscode += digit;
                updatePasscodeDisplay();
                
                // Auto-check when 4 digits entered
                if (currentPasscode.length === 4) {
                    setTimeout(checkPasscode, 200);
                }
            }
        }

        function clearPasscode() {
            currentPasscode = '';
            updatePasscodeDisplay();
            document.getElementById('admin-error').textContent = '';
        }

        function updatePasscodeDisplay() {
            const dots = document.querySelectorAll('.passcode-dot');
            dots.forEach((dot, index) => {
                if (index < currentPasscode.length) {
                    dot.classList.add('filled');
                } else {
                    dot.classList.remove('filled');
                }
            });
        }

        function checkPasscode() {
            if (currentPasscode === ADMIN_PASSCODE) {
                document.getElementById('admin-login-screen').style.display = 'none';
                document.getElementById('admin-dashboard-screen').style.display = 'block';
                currentPasscode = '';
                updatePasscodeDisplay();
                document.getElementById('admin-error').textContent = '';
            } else {
                document.getElementById('admin-error').textContent = 'Incorrect passcode';
                setTimeout(() => {
                    clearPasscode();
                }, 1000);
            }
        }

        function refreshKiosk() {
            const now = new Date();
            document.getElementById('last-action').textContent = 'Refreshed at ' + now.toLocaleTimeString();
            setTimeout(() => {
                location.reload();
            }, 500);
        }

        function clearCache() {
            localStorage.clear();
            sessionStorage.clear();
            document.getElementById('last-action').textContent = 'Cache cleared at ' + new Date().toLocaleTimeString();
            alert('Cache cleared successfully!');
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
                document.getElementById('last-action').textContent = 'Fullscreen enabled';
            } else {
                document.exitFullscreen();
                document.getElementById('last-action').textContent = 'Fullscreen disabled';
            }
        }

        function adminDashboardLogout() {
            resetAdminDashboard();
        }

        // Fade-in on Scroll Animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all sections and cards
        document.addEventListener('DOMContentLoaded', () => {
            const fadeElements = document.querySelectorAll('.section, .timing-card, .event-card, .gallery-item, .about-card');
            fadeElements.forEach(el => {
                el.classList.add('fade-in');
                observer.observe(el);
            });
            
            // Add Enter key support for AI assistant
            const aiInput = document.getElementById('ai-input');
            if (aiInput) {
                aiInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendAIMessage();
                    }
                });
            }
        });

        // Screensaver / Idle Detection
        let idleTimer = null;
        const IDLE_TIME = 60000; // 1 minute in milliseconds
        let screensaverActive = false;

        function showScreensaver() {
            const screensaver = document.getElementById('screensaver-overlay');
            if (screensaver && !screensaverActive) {
                screensaverActive = true;
                screensaver.style.display = 'flex';
                // Force reflow
                void screensaver.offsetWidth;
                setTimeout(() => {
                    screensaver.classList.add('active');
                }, 50);
            }
        }

        function hideScreensaver() {
            const screensaver = document.getElementById('screensaver-overlay');
            if (screensaver && screensaverActive) {
                screensaverActive = false;
                screensaver.classList.remove('active');
                setTimeout(() => {
                    screensaver.style.display = 'none';
                }, 300);
            }
        }

        function resetIdleTimer() {
            if (idleTimer) {
                clearTimeout(idleTimer);
            }
            // Only set new timer if screensaver is not active
            if (!screensaverActive) {
                idleTimer = setTimeout(showScreensaver, IDLE_TIME);
            }
        }

        // Initialize screensaver after DOM is fully loaded
        function initScreensaver() {
            const screensaver = document.getElementById('screensaver-overlay');
            if (!screensaver) {
                console.error('Screensaver element not found');
                return;
            }

            // Hide screensaver on any interaction with it
            screensaver.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                hideScreensaver();
                resetIdleTimer();
            });

            screensaver.addEventListener('touchstart', function(e) {
                e.preventDefault();
                hideScreensaver();
                resetIdleTimer();
            });

            // Track user activity on document
            const activityEvents = ['mousedown', 'mousemove', 'keydown', 'scroll', 'touchstart', 'touchmove'];
            
            activityEvents.forEach(function(eventType) {
                document.addEventListener(eventType, function() {
                    if (!screensaverActive) {
                        resetIdleTimer();
                    }
                }, { passive: true, capture: true });
            });

            // Show screensaver on initial page load
            setTimeout(function() {
                showScreensaver();
            }, 500);
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initScreensaver);
        } else {
            initScreensaver();
        }

    </script>
</body>
</html>